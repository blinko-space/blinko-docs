{"openapi":"3.0.3","info":{"title":"Blinko CRUD API V1","description":"blinko api for public endpoints","version":"1.0.0"},"servers":[{"url":"/api"}],"tags":[{"name":"Note"},{"name":"User"},{"name":"Task"},{"name":"Tag"},{"name":"Public"},{"name":"Config"}],"paths":{"/v1/note/list":{"post":{"operationId":"notes-list","summary":"Query notes list","tags":["Note"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"tagId":{"anyOf":[{"type":"number"},{"type":"null"}],"default":null},"page":{"type":"number","default":1},"size":{"type":"number","default":30},"orderBy":{"type":"string","enum":["asc","desc"],"default":"desc"},"type":{"anyOf":[{"type":"number","enum":[0,1]},{"type":"number","enum":[-1]}],"default":-1},"isArchived":{"type":"boolean","default":false},"isRecycle":{"type":"boolean","default":false},"searchText":{"type":"string","default":""},"withoutTag":{"type":"boolean","default":false},"withFile":{"type":"boolean","default":false},"withLink":{"type":"boolean","default":false}}}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"integer"},"content":{"type":"string"},"isArchived":{"type":"boolean"},"isRecycle":{"type":"boolean"},"isShare":{"type":"boolean"},"isTop":{"type":"boolean"},"isReviewed":{"type":"boolean"},"sharePassword":{"type":"string"},"metadata":{},"accountId":{"anyOf":[{"type":"integer"},{"type":"null"}]},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"attachments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"isShare":{"type":"boolean"},"sharePassword":{"type":"string"},"name":{"type":"string"},"path":{"type":"string"},"size":{},"noteId":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"type":{"type":"string"}},"required":["id","isShare","sharePassword","name","path","noteId","createdAt","updatedAt","type"]}},"tags":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"noteId":{"type":"integer"},"tagId":{"type":"integer"},"tag":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"icon":{"type":"string"},"parent":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["id","name","icon","parent","createdAt","updatedAt"]}},"required":["id","noteId","tagId","tag"]}}},"required":["id","type","content","isArchived","isRecycle","isShare","isTop","isReviewed","sharePassword","accountId","createdAt","updatedAt","attachments","tags"]}}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/public-list":{"post":{"operationId":"notes-publicList","summary":"Query share notes list","tags":["Note"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"page":{"type":"number","default":1},"size":{"type":"number","default":30}}}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"integer"},"content":{"type":"string"},"isArchived":{"type":"boolean"},"isRecycle":{"type":"boolean"},"isShare":{"type":"boolean"},"isTop":{"type":"boolean"},"isReviewed":{"type":"boolean"},"sharePassword":{"type":"string"},"metadata":{},"accountId":{"anyOf":[{"type":"integer"},{"type":"null"}]},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"attachments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"isShare":{"type":"boolean"},"sharePassword":{"type":"string"},"name":{"type":"string"},"path":{"type":"string"},"size":{},"noteId":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"type":{"type":"string"}},"required":["id","isShare","sharePassword","name","path","noteId","createdAt","updatedAt","type"]}}},"required":["id","type","content","isArchived","isRecycle","isShare","isTop","isReviewed","sharePassword","accountId","createdAt","updatedAt","attachments"]}}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/public-detail":{"post":{"operationId":"notes-publicDetail","summary":"Query share note detail","tags":["Note"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"}},"required":["id"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"integer"},"content":{"type":"string"},"isArchived":{"type":"boolean"},"isRecycle":{"type":"boolean"},"isShare":{"type":"boolean"},"isTop":{"type":"boolean"},"isReviewed":{"type":"boolean"},"sharePassword":{"type":"string"},"metadata":{},"accountId":{"anyOf":[{"type":"integer"},{"type":"null"}]},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"attachments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"isShare":{"type":"boolean"},"sharePassword":{"type":"string"},"name":{"type":"string"},"path":{"type":"string"},"size":{},"noteId":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"type":{"type":"string"}},"required":["id","isShare","sharePassword","name","path","noteId","createdAt","updatedAt","type"]}}},"required":["id","type","content","isArchived","isRecycle","isShare","isTop","isReviewed","sharePassword","accountId","createdAt","updatedAt","attachments"]}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/detail":{"post":{"operationId":"notes-detail","summary":"Query note detail","tags":["Note"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"}},"required":["id"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"integer"},"content":{"type":"string"},"isArchived":{"type":"boolean"},"isRecycle":{"type":"boolean"},"isShare":{"type":"boolean"},"isTop":{"type":"boolean"},"isReviewed":{"type":"boolean"},"sharePassword":{"type":"string"},"metadata":{},"accountId":{"anyOf":[{"type":"integer"},{"type":"null"}]},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"attachments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"isShare":{"type":"boolean"},"sharePassword":{"type":"string"},"name":{"type":"string"},"path":{"type":"string"},"size":{},"noteId":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"type":{"type":"string"}},"required":["id","isShare","sharePassword","name","path","noteId","createdAt","updatedAt","type"]}}},"required":["id","type","content","isArchived","isRecycle","isShare","isTop","isReviewed","sharePassword","accountId","createdAt","updatedAt","attachments"]}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/daily-review-list":{"get":{"operationId":"notes-dailyReviewNoteList","summary":"Query daily review note list","tags":["Note"],"security":[{"Authorization":[]}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"integer"},"content":{"type":"string"},"isArchived":{"type":"boolean"},"isRecycle":{"type":"boolean"},"isShare":{"type":"boolean"},"isTop":{"type":"boolean"},"isReviewed":{"type":"boolean"},"sharePassword":{"type":"string"},"metadata":{},"accountId":{"anyOf":[{"type":"integer"},{"type":"null"}]},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"attachments":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"isShare":{"type":"boolean"},"sharePassword":{"type":"string"},"name":{"type":"string"},"path":{"type":"string"},"size":{},"noteId":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"type":{"type":"string"}},"required":["id","isShare","sharePassword","name","path","noteId","createdAt","updatedAt","type"]}}},"required":["id","type","content","isArchived","isRecycle","isShare","isTop","isReviewed","sharePassword","accountId","createdAt","updatedAt","attachments"]}}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/review":{"post":{"operationId":"notes-reviewNote","summary":"Review a note","tags":["Note"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"}},"required":["id"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"integer"},"content":{"type":"string"},"isArchived":{"type":"boolean"},"isRecycle":{"type":"boolean"},"isShare":{"type":"boolean"},"isTop":{"type":"boolean"},"isReviewed":{"type":"boolean"},"sharePassword":{"type":"string"},"metadata":{},"accountId":{"anyOf":[{"type":"integer"},{"type":"null"}]},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["id","type","content","isArchived","isRecycle","isShare","isTop","isReviewed","sharePassword","accountId","createdAt","updatedAt"]}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/upsert":{"post":{"operationId":"notes-upsert","summary":"Update or create note","tags":["Note"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"type":{"anyOf":[{"type":"number","enum":[0,1]},{"type":"number","enum":[-1]}],"default":0},"attachments":{"default":[]},"id":{"type":"number"},"isArchived":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":null},"isTop":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":null},"isShare":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":null}}}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/batch-update":{"post":{"operationId":"notes-updateMany","summary":"Batch update note","tags":["Note"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"anyOf":[{"type":"number","enum":[0,1]},{"type":"number","enum":[-1]}],"default":-1},"isArchived":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":null},"isRecycle":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":null},"ids":{"type":"array","items":{"type":"number"}}},"required":["ids"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/note/batch-delete":{"post":{"operationId":"notes-deleteMany","summary":"Batch delete update note","tags":["Note"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"number"}}},"required":["ids"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tags/batch-update":{"post":{"operationId":"tags-updateTagMany","summary":"Batch update tags","tags":["Tag"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"number"}},"tag":{"type":"string"}},"required":["ids","tag"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tags/update-name":{"post":{"operationId":"tags-updateTagName","summary":"Update tag name","tags":["Tag"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"oldName":{"type":"string"},"newName":{"type":"string"},"id":{"type":"number"}},"required":["oldName","newName","id"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tags/update-icon":{"post":{"operationId":"tags-updateTagIcon","summary":"Update tag icon","tags":["Tag"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"icon":{"type":"string"}},"required":["id","icon"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"icon":{"type":"string"},"parent":{"type":"integer"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["id","name","icon","parent","createdAt","updatedAt"]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tags/delete-only-tag":{"post":{"operationId":"tags-deleteOnlyTag","summary":"Only delete tag ,not delete notes","tags":["Tag"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"}},"required":["id"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tags/delete-tag-with-notes":{"post":{"operationId":"tags-deleteTagWithAllNote","summary":"Delete tagnot and delete notes","tags":["Tag"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"}},"required":["id"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/list":{"get":{"operationId":"users-list","summary":"Find user list","tags":["User"],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"nickname":{"type":"string"},"password":{"type":"string"},"image":{"type":"string"},"apiToken":{"type":"string"},"note":{"type":"integer"},"role":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}},"required":["id","name","nickname","password","image","apiToken","note","role","createdAt","updatedAt"]}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/detail":{"get":{"operationId":"users-detail","summary":"Find user detail from user id","tags":["User"],"parameters":[{"in":"query","name":"id","schema":{"type":"number"},"required":true}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"nickName":{"type":"string"},"token":{"type":"string"}},"required":["id","name","nickName","token"]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.NOT_FOUND"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/can-register":{"post":{"operationId":"users-canRegister","summary":"Check if can register admin","tags":["User"],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/create-admin":{"post":{"operationId":"users-createAdmin","summary":"Create admin user","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"password":{"type":"string"}},"required":["name","password"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"boolean"},{}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/regen-token":{"post":{"operationId":"users-regenToken","summary":"Regen token","tags":["User"],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"boolean"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/upsert":{"post":{"operationId":"users-upsertUser","summary":"Update or create user","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"originalPassword":{"type":"string"},"password":{"type":"string"},"nickname":{"type":"string"}}}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"boolean"},{}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/user/upsert-by-admin":{"post":{"operationId":"users-upsertUserByAdmin","summary":"Update or create user by admin","tags":["User"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"password":{"type":"string"},"nickname":{"type":"string"}}}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"boolean"},{}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/config/list":{"get":{"operationId":"config-list","summary":"Query user config list","tags":["Config"],"security":[{"Authorization":[]}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"isAutoArchived":{"type":"boolean"},"autoArchivedDays":{"type":"number"},"isUseAI":{"type":"boolean"},"aiModelProvider":{},"aiApiKey":{},"aiApiEndpoint":{},"aiModel":{},"isHiddenMobileBar":{"type":"boolean"},"isAllowRegister":{},"isOrderByCreateTime":{},"timeFormat":{},"smallDeviceCardColumns":{},"mediumDeviceCardColumns":{},"largeDeviceCardColumns":{},"textFoldLength":{"type":"number"},"objectStorage":{},"s3AccessKeyId":{},"s3AccessKeySecret":{},"s3Endpoint":{},"s3Bucket":{},"s3Region":{},"embeddingModel":{}}}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/config/update":{"post":{"operationId":"config-update","summary":"Update user config","tags":["Config"],"security":[{"Authorization":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"key":{"anyOf":[{"type":"string","enum":["isAutoArchived"]},{"type":"string","enum":["autoArchivedDays"]},{"type":"string","enum":["isUseAI"]},{"type":"string","enum":["aiModelProvider"]},{"type":"string","enum":["aiApiKey"]},{"type":"string","enum":["aiApiEndpoint"]},{"type":"string","enum":["aiModel"]},{"type":"string","enum":["isHiddenMobileBar"]},{"type":"string","enum":["isAllowRegister"]},{"type":"string","enum":["isOrderByCreateTime"]},{"type":"string","enum":["timeFormat"]},{"type":"string","enum":["objectStorage"]},{"type":"string","enum":["s3AccessKeyId"]},{"type":"string","enum":["s3AccessKeySecret"]},{"type":"string","enum":["s3Endpoint"]},{"type":"string","enum":["s3Bucket"]},{"type":"string","enum":["s3Region"]},{"type":"string","enum":["smallDeviceCardColumns"]},{"type":"string","enum":["mediumDeviceCardColumns"]},{"type":"string","enum":["largeDeviceCardColumns"]},{"type":"string","enum":["textFoldLength"]},{"type":"string","enum":["embeddingModel"]}]},"value":{}},"required":["key"]}}}},"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"key":{"type":"string"},"config":{}},"required":["id","key"]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/public/version":{"get":{"operationId":"public-version","summary":"Update user config","tags":["Public"],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/public/latest-version":{"get":{"operationId":"public-latestVersion","summary":"Get a new version","tags":["Public"],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/public/link-preview":{"get":{"operationId":"public-linkPreview","summary":"Get a link preview info","tags":["Public"],"parameters":[{"in":"query","name":"url","schema":{"type":"string"},"required":true}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"anyOf":[{"type":"object","properties":{"title":{"type":"string"},"favicon":{"type":"string"},"description":{"type":"string"}},"required":["title","favicon","description"]},{"type":"null"}]}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.NOT_FOUND"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tasks/list":{"get":{"operationId":"task-list","summary":"Query user task list","tags":["Task"],"security":[{"Authorization":[]}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"schedule":{"type":"string"},"lastRun":{"type":"string"},"isSuccess":{"type":"boolean"},"isRunning":{"type":"boolean"},"output":{}},"required":["name","schedule","lastRun","isSuccess","isRunning"]}}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}},"/v1/tasks/upsert":{"get":{"operationId":"task-upsertTask","summary":"Upsert Task","tags":["Task"],"security":[{"Authorization":[]}],"parameters":[{"in":"query","name":"time","schema":{"type":"string"}},{"in":"query","name":"type","schema":{"type":"string","enum":["start","stop","update"]},"required":true},{"in":"query","name":"task","schema":{"type":"string","enum":["Auto Archive Blinko","Backup Database"]},"required":true}],"responses":{"200":{"description":"Successful response","content":{"application/json":{"schema":{}}}},"400":{"description":"Invalid input data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.BAD_REQUEST"}}}},"401":{"description":"Authorization not provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.UNAUTHORIZED"}}}},"403":{"description":"Insufficient access","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.FORBIDDEN"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.NOT_FOUND"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error.INTERNAL_SERVER_ERROR"}}}}}}}},"components":{"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer"}},"schemas":{"error.BAD_REQUEST":{"type":"object","properties":{"message":{"type":"string","description":"The error message","example":"Invalid input data"},"code":{"type":"string","description":"The error code","example":"BAD_REQUEST"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"description":"An array of issues that were responsible for the error","example":[]}},"required":["message","code"],"title":"Error","description":"The error information","example":{"code":"BAD_REQUEST","message":"Invalid input data","issues":[]}},"error.UNAUTHORIZED":{"type":"object","properties":{"message":{"type":"string","description":"The error message","example":"Authorization not provided"},"code":{"type":"string","description":"The error code","example":"UNAUTHORIZED"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"description":"An array of issues that were responsible for the error","example":[]}},"required":["message","code"],"title":"Error","description":"The error information","example":{"code":"UNAUTHORIZED","message":"Authorization not provided","issues":[]}},"error.FORBIDDEN":{"type":"object","properties":{"message":{"type":"string","description":"The error message","example":"Insufficient access"},"code":{"type":"string","description":"The error code","example":"FORBIDDEN"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"description":"An array of issues that were responsible for the error","example":[]}},"required":["message","code"],"title":"Error","description":"The error information","example":{"code":"FORBIDDEN","message":"Insufficient access","issues":[]}},"error.INTERNAL_SERVER_ERROR":{"type":"object","properties":{"message":{"type":"string","description":"The error message","example":"Internal server error"},"code":{"type":"string","description":"The error code","example":"INTERNAL_SERVER_ERROR"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"description":"An array of issues that were responsible for the error","example":[]}},"required":["message","code"],"title":"Error","description":"The error information","example":{"code":"INTERNAL_SERVER_ERROR","message":"Internal server error","issues":[]}},"error.NOT_FOUND":{"type":"object","properties":{"message":{"type":"string","description":"The error message","example":"Not found"},"code":{"type":"string","description":"The error code","example":"NOT_FOUND"},"issues":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"description":"An array of issues that were responsible for the error","example":[]}},"required":["message","code"],"title":"Error","description":"The error information","example":{"code":"NOT_FOUND","message":"Not found","issues":[]}}}}}